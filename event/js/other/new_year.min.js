!function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){i(1),e.exports=i(2)},function(e,t){new Vue({el:"#year-container",data:{isRule:!1,isSelect:!1,message:"立下你的新年的目標<br>向嶄新的2021邁出第一步吧",isTitle:!0,flagText:[],flagNum:0,flagName:"",currPage:1,perPage:5,flags:[],selectText:[],otherFlag:"",isCreate:!1,colors:{hexs:["#ff4b30","#f75c2f","#ffc408","#90b44b","#00aa90","#30a8de","#986db2","#e16b8c"],"#ff4b30":["#854438","#994636","#c83c36","#e63118","#ff4b30","#ff6851","#f39382","#ffbeb4"],"#f75c2f":["#a35838","#b25c37","#d84a20","#f75c2f","#ff6224","#fa7048","#ff8f5d","#ffbd87"],"#ffc408":["#bc9342","#dbaa44","#eebb23","#f7c142","#ffc408","#ffd13f","#ffe181","#fad78b"],"#90b44b":["#2c6b48","#526d41","#667d39","#829a54","#90b44b","#8caf7c","#86c067","#b4caa0"],"#00aa90":["#1f5f4f","#1d7865","#00886c","#138b78","#04aa90","#20ceb3","#86dacd","#99ecdf"],"#30a8de":["#13376a","#0d5ca1","#147598","#228dae","#30a8de","#58b2de","#7ab9df","#a5dee4"],"#986db2":["#593b67","#6d4087","#753d86","#7e4f8c","#986db2","#8a6bbe","#8f77b4","#9b91c1"],"#e16b8c":["#8f354c","#b53d5a","#cb1b45","#db4d6d","#e16b8c","#e77a92","#f699ab","#f3a7b9"]},images:["./dist/images/people/01.png","./dist/images/people/04.png","./dist/images/people/05.png","./dist/images/people/06.png","./dist/images/people/07.png","./dist/images/people/08.png","./dist/images/people/09.png","./dist/images/people/11.png","./dist/images/people/12.png","./dist/images/people/13.png","./dist/images/people/14.png","./dist/images/people/15.png"],activeItem:0,gradItem:0,changeColor:"#ff4b30",changeColorKey:"#ff4b30",changeImage:"./dist/images/people/01.png",isFinnal:!1,settingActive:"color",startX:0,startY:0,move:"20px",stepType:!1,stepText:"繼續",isCreateInner:!0,imageMove:0,imageM:0,colorMove:0,goBottom:"",changeRotate:"",rotate:0,isCount:!1,showBoxAnimate:"",cardImage:"",signName:"",today:"",countNumber:3,step:"image",islastBtn:!0,animated:!1,animate2:!1,prev:"goSec",isFinBtn:!1,checked:0,isPrevBtn:!0},mounted(){var e=document.getElementById("canvas");e.width=window.innerWidth,e.height=window.innerHeight,fetch("./flag_v4.json").then(e=>e.json()).then(e=>this.flagText=e),setInterval(()=>{this.getTime()},1e3),localStorage.clear()},updated(){localStorage.setItem("flag",JSON.stringify(this.selectText))},computed:{pageStart(){return(this.currPage-1)*this.perPage},totalPage(){return Math.ceil(this.flagText.length/this.perPage)}},methods:{start(){this.isTitle=!1,this.isRule=!0},stageFirst(){this.isRule=!1,this.isSelect=!0,setTimeout(()=>{var e=document.getElementById("select-area");this.resize(e),this.blurIt(),$("#select-area input").attr("maxlength","12")},200)},stageNext(e){if("second"==e)this.goBottom="translateY(0)",this.isSelect=!1,this.isCreate=!0;else if("third"==e){var t=event.target.getAttribute("value");if("color"==t)this.bottomSelect("image");else if("sign"==t)this.bottomSelect("sign");else if("image"==t)this.bottomSelect("image");else if("done"==t){if(""==this.signName)return alert("別走!你還沒留下大名!"),!1;this.bottomSelect("done")}else"finnal"==t&&this.goShowFinal()}else if("second-return"==e){var i=event.target.getAttribute("value");"color"==i?this.bottomSelect("color"):"image"==i?this.bottomSelect("image"):"goSec"==i&&(this.goBottom="translateY(300%)",this.isCreate=!1,this.isSelect=!0,this.animated=!1)}},count(){if(this.flagNum>7)return alert("最多只能選8個!"),!1;if(event.target.classList.add("disabled"),null!==event.target.getAttribute("value")){if(this.selectText.indexOf(event.target.getAttribute("value"))>-1)return alert("已選過囉!"),!1;this.selectText.push(event.target.getAttribute("value"));var e=this.checkRepeat(this.selectText);this.selectText=e}var t=document.querySelector(".bright");this.animated=!0,t.classList.add("animated"),this.flagNum++,setTimeout((function(){this.animated=!1,this.animate2=!0,t.classList.remove("animated"),t.classList.add("animate2")}),300),setTimeout((function(){t.classList.remove("animate2"),this.animate2=!1}),750)},changeFlag(e){e<=0||e>this.totalPage?e=1:$("#select-area .flag-box").find(".disabled").removeClass("disabled"),this.currPage=e,this.rotate+=360,this.changeRotate="rotate("+this.rotate+"deg)",setTimeout((function(){this.rotate=0}),50)},checkRepeat:e=>e.filter((t,i)=>e.indexOf(t)===i),sendText(){return""==this.otherFlag?(alert("請輸入願望!"),!1):this.flagNum>7?(alert("最多只能選8個!"),!1):this.selectText.indexOf(event.target.getAttribute("value"))>-1?(alert("已選過囉!"),!1):this.otherFlag.length>=13?(alert("不能超過12個字!"),this.otherFlag="",!1):(document.body.scrollTop=document.body.scrollHeight,this.selectText.push(this.otherFlag),this.flagNum++,void(this.otherFlag=""))},closebtn(){this.showBoxAnimate="translateY(-300%)"},showFlag(){this.showBoxAnimate="translateY(0)"},closeBox(){this.showBoxAnimate="translateY(-300%)"},deleteFlag(e){if(this.flagNum<=0)this.flagNum=0;else{this.flagNum--;var t=event.target.parentNode.getAttribute("value");this.selectText.splice(t,1)}},selectColor(e){this.activeItem=e;var t=event.target.getAttribute("value");this.changeColor=t,this.changeColorKey=t},selectImage(){var e=event.target.getAttribute("value");this.changeImage=e},bottomSelect(e){this.settingActive=e,"image"==e?(this.step="sign",this.prev="color",this.islastBtn=!0,this.isFinBtn=!1,this.isPrevBtn=!0):"color"==e?(this.step="image",this.prev="goSec",this.islastBtn=!0,this.isFinBtn=!1,this.isPrevBtn=!0):"sign"==e?(this.step="done",this.prev="image",this.islastBtn=!0,this.isFinBtn=!1,this.isPrevBtn=!0):"done"==e&&(this.step="finnal",this.islastBtn=!1,this.isFinBtn=!0,this.isPrevBtn=!1,!0===this.checked&&setTimeout(()=>{$("#complete").css("background-color","#000")},25),setTimeout(()=>{$("input[type=checkbox]").on("change",(function(){!0===this.checked?$("#complete").css("background-color","#000"):$("#complete").css("background-color","#726969")}))},50))},isActive(e){return e===this.settingActive},touchstart(){var e=event.targetTouches[0];this.startX=e.pageX,this.startY=event.changedTouches[0].pageY;var t=event.changedTouches[0].pageX,i=event.changedTouches[0].pageY,a=(this.startX,this.startY,event.touches[0].pageX);a<=this.startX?a=this.startX-20:a>=382&&(a=382),this.move=a+"px";var s=parseInt(a/30);this.changeColor=this.colors[this.changeColorKey][s]},touchmove(){event.preventDefault();var e=event.targetTouches[0];this.startX=e.pageX;var t=event.touches[0].pageX,i=document.querySelector(".gradient").offsetWidth-35,a=0;t<=28?t=28:t>=i&&(t=i),this.move=t+"px",a=window.innerHeight<570?39:window.innerWidth<376?40:45;var s=parseInt(t/a);this.changeColor=this.colors[this.changeColorKey][s]},getTime(){var e=new Date,t=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate();this.today=t},timerCount(){this.countNumber>1&&setTimeout(()=>{this.countNumber--,this.timerCount()},1e3)},goShowFinal(){if(0==this.checked)return alert("請勾選!"),!1;if(""==this.signName)return alert("別走!你還沒留下大名!請回上一步簽名!"),!1;window.scroll(0,0),this.goBottom="translateY(100%)",document.querySelector(".bottom-create").style.display="none",$(".bottom-create").css("opacity",0);var e=document.querySelector("#create-area").offsetHeight,t=document.querySelector("#create-area").offsetWidth;html2canvas(document.querySelector("#create-area"),{useCORS:!0,width:t,height:e,backgroundColor:"rgba(0,0,0,.0)",scale:3,allowTaint:!1,onrendered:canvas}).then(e=>{var t=e.getContext("2d"),i=new Image;t.mozImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,t.imageSmoothingEnabled=!1,i.id="save-image",i.crossOrigin="anonymous",i.src=e.toDataURL("image/png",1),localStorage.setItem("savedImage",i.src)}),this.isCreateInner=!1,this.isCount=!0,this.timerCount(),setTimeout(()=>{alert("冷知識: 長按圖片可儲存至手機"),this.isCreate=!1,this.cardImage=localStorage.getItem("savedImage"),this.isFinnal=!0,setTimeout(()=>{$("#finnal .soical-share .fb-link").before("<a class='logo' href='https://www.tk3c.com/' target='_blank'></a>")},50),confetti.start()},3e3),setTimeout(()=>{confetti.remove()},7500)},resize:function(e){var t=document.body.clientHeight||document.documentElement.clientHeight;window.onresize=()=>{(document.documentElement.clientHeight||document.body.clientHeight)<t&&(e.style.height=t)}},blurIt:function(){$("input").blur(()=>{var e=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(e-1,0))})},check:function(){}}});window.onload=()=>{document.querySelector(".box-bg ul");var e=document.createElement("script");e.setAttribute("src","https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"),document.head.appendChild(e);var t=document.querySelector("#for-pc");t.querySelector("img").src="https://events.tk3c.com/events_net/events_net/2021hope/dist/images/qr_new1228.png",t.querySelector(".description").innerText="為了您更好的體驗，建議您使用手機掃描 QR Code來瀏覽。",document.querySelector("meta[property='og:url']").setAttribute("content","https://events.tk3c.com/events_net/events_net/2021hope/new_year2021.html"),document.querySelector("meta[property='og:title']").setAttribute("content","燦坤線上 | 2021年新年新希望"),document.querySelector("meta[property='og:image']").setAttribute("content","https://events.tk3c.com/events_net/events_net/2021hope/dist/images/20201228_fb.jpg"),document.querySelector("meta[property='og:description']").setAttribute("content","送走2020的此時，也到了大家曬出一年總結和新年新希望的時候了。不管送走的2020是大魔王還是精彩繽紛，讓我們都在辭舊迎新的空氣中，滿懷希望立下新的願望與期待。")}},function(e,t,i){}]);